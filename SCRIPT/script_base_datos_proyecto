mysql -u root -p

create database c_rey;
use c_rey;

create table TIPO_D_I(
    cod_tipo_doc varchar(7),
    tipo_documento varchar(25),
    primary key(cod_tipo_doc));

create table SEXO(
    cod_sexo varchar(1),
    sexo varchar(9),
    primary key(cod_sexo));

create table EPS(
    cod_eps integer,
    eps varchar(35),
    primary key(cod_eps));

create table PARENTESCO(
    cod_parentesco integer,
    parentesco varchar(10),
    primary key(cod_parentesco));

create table PERIODO(
    cod_periodo integer,
    periodo varchar(15),
    fecha_inicio DATE,
    fecha_final DATE,
    primary key(cod_periodo));

create table DOCENTES(
    cod_docente integer,
    tipo_documento varchar(7),
    num_documento integer,
    nombres varchar(20),
    apellidos varchar(20),
    edad integer,
    sexo varchar(1),
    telefono integer,
    direccion varchar(22),
    lugar_nacimiento varchar(15),
    fecha_nacimiento DATE,
    formacion_academica varchar(100),
    estado_civil varchar(12),
    correo varchar(40),
    primary key(cod_docente),
    foreign key(tipo_documento) references TIPO_D_I(cod_tipo_doc),
    foreign key(sexo) references SEXO(cod_sexo));

create table ASIGNATURAS(
    cod_asig varchar(7),
    cod_docente integer,
    nombre varchar(20),
    descripcion varchar(500),
    primary key(cod_asig),
    foreign key(cod_docente) references DOCENTES(cod_docente));

create table GRADOS(
    cod_grado integer,
    cod_docente integer,
    cod_asig varchar(7),
    nombre varchar(10),
    fecha_inicio DATE,
    fecha_final DATE,
    primary key(cod_grado),
    foreign key(cod_docente) references DOCENTES(cod_docente),
    foreign key(cod_asig) references ASIGNATURAS(cod_asig));

create table ALUMNOS(
    cod_alumno integer,
    tipo_documento varchar(7),
    numero_documento integer,
    cod_grado integer,
    nombres varchar(20),
    apellidos varchar(20),
    edad integer,
    sexo varchar(1),
    eps integer,
    tipo_doc_acud_1 varchar(7),
    numero_doc_acud_1 integer,
    nombres_acud_1 varchar(20),
    apellidos_acud_1 varchar(20), 
    tel_acud_1 integer,
    parentesco_acud_1 integer,
    tipo_doc_acud_2 varchar(7),
    numero_doc_acud_2 integer,
    nombres_acud_2 varchar(20),
    apellidos_acud_2 varchar(20), 
    tel_acud_2 integer,
    parentesco_acud_2 integer,
    direccion varchar(22),
    primary key(cod_alumno),
    foreign key(tipo_documento) references TIPO_D_I(cod_tipo_doc),
    foreign key(tipo_doc_acud_1) references TIPO_D_I(cod_tipo_doc),
    foreign key(tipo_doc_acud_2) references TIPO_D_I(cod_tipo_doc),
    foreign key(cod_grado) references GRADOS(cod_grado),
    foreign key(sexo) references SEXO(cod_sexo),
    foreign key(eps) references EPS(cod_eps),
    foreign key(parentesco_acud_1) references PARENTESCO(cod_parentesco),
    foreign key(parentesco_acud_2) references PARENTESCO(cod_parentesco));

create table ASISTENCIAS(
    cod_asist integer,
    cod_alumno integer,
    cod_docente integer,
    cod_grado integer,
    mes varchar(10),
    fecha DATE,
    estado varchar(6),
    primary key(cod_asist),
    foreign key(cod_alumno) references ALUMNOS(cod_alumno),
    foreign key(cod_docente) references DOCENTES(cod_docente),
    foreign key(cod_grado) references GRADOS(cod_grado));

create table BOLETINES(
    cod_boletines integer,
    cod_alumno integer,
    cod_grado integer,
    cod_periodo integer,
    cod_asig varchar(7),
    nota_defi_asig integer,
    year date,
    jornada varchar(7),
    primary key(cod_boletines),
    foreign key(cod_alumno) references ALUMNOS(cod_alumno),
    foreign key(cod_periodo) references PERIODO(cod_periodo),
    foreign key(cod_grado) references GRADOS(cod_grado),
    foreign key(cod_asig) references ASIGNATURAS(cod_asig));

create table VER(
    codigo integer,
    cod_asig varchar(7),
    cod_alumno integer,
    primary key(codigo),
    foreign key(cod_asig) references ASIGNATURAS(cod_asig),
    foreign key(cod_alumno) references ALUMNOS(cod_alumno));

create table NOTAS(
    cod_notas integer,
    cod_alumno integer,
    valor integer,
    descripcion varchar(100),
    cod_asig varchar(7),
    cod_grado integer,
    cod_periodo integer,
    fecha DATE,
    primary key(cod_notas),
    foreign key(cod_alumno) references ALUMNOS(cod_alumno),
    foreign key(cod_asig) references ASIGNATURAS(cod_asig),
    foreign key(cod_grado) references GRADOS(cod_grado),
    foreign key(cod_periodo) references PERIODO(cod_periodo));
    
create table ADMINISTRADOR(
    cod_admin integer,
    tipo_documento varchar(2),
    numero_documento integer,
    nombres varchar(20),
    apellidos varchar(20),
    telefono integer,
    direccion varchar(22),
    sexo varchar(1),
    edad integer,
    primary key(cod_admin),
    foreign key(tipo_documento) references TIPO_D_I(cod_tipo_doc),
    foreign key(sexo) references SEXO(cod_sexo));

create table PAGO(
    cod_pago integer,
    cod_alumno integer,
    cod_admin integer,
    cod_grado integer,
    fecha_cancelar DATE,
    mes_cancelar DATE,
    primary key(cod_pago),
    foreign key(cod_alumno) references ALUMNOS(cod_alumno),
    foreign key(cod_admin) references ADMINISTRADOR(cod_admin),
    foreign key (cod_grado) references GRADOS(cod_grado));



    insert into PARENTESCO values(1,"PADRE");
    insert into PARENTESCO VALUES(2,"MADRE");
    insert into PARENTESCO values(3,"MADRASTRA");
    INSERT INTO PARENTESCO VALUES(4, "PADRASTRO");
    insert into parentesco values(5,"TIO");
    INSERT INTO PARENTESCO VALUES(6, "TIA")
    INSERT INTO PARENTESCO VALUES(7, "PRIMA");
    INSERT INTO PARENTESCO VALUES(8,"PRIMO");
    INSERT INTO PARENTESCO VALUES(9,"ABUELA");
    INSERT INTO PARENTESCO VALUES(10,"ABUELO");
    INSERT INTO PARENTESCO VALUES(11,"OTRO");


    insert into eps values(1, "SALUD COLMENAS E.P.S. S.A.");
    INSERT INTO EPS VALUES(2, "SALUD TOTAL S.A. E.P.S.");
    INSERT INTO EPS VALUES(3,"CAFESALUD E.P.S. S.A");
    INSERT INTO EPS VALUES(4, "E.P.S. SANITAS S.A");


    INSERT INTO TIPO_D_I VALUES("TI","TARJETA DE IDENTIDAD");
    INSERT INTO TIPO_D_I VALUES("CC","CEDULA DE CIUDADANIA");
    INSERT INTO TIPO_D_I VALUES("CE","CEDULA EXTRANJERA");
    INSERT INTO TIPO_D_I VALUES("SIN TI","SIN TARJETA DE IDENTIDAD");

    INSERT INTO SEXO VALUES("F","FEMENINO");
    INSERT INTO SEXO VALUES("M","MASCULINO");
    INSERT INTO SEXO VALUES("O","OTRO");

insert into DOCENTES values(
    1, "CC", 1890273, 
    "CARMEN CECILIA", "LOPEZ PINEDO", 27, 
    "F", 3003928970, "CALLE 98 #51B - 15", 
    "SOLEDAD", "1995-08-26", "PEDAGOGIA INFANTIL", 
    "CASADA", "carmencecilopez@gmail.com");

insert into DOCENTES values(
    2, "CC", 7238909, "NELLY MARIA",
    "YIME CORRO", 33, "F", 
    3014567890, "KRA 28# 72 - 345", "BARRANQUILLA", 
    "1989-05-22", "PSICOLOGA - PEDAGOGIA INFANTIL",
    "SOLTERA", "nyimec@outlook.es"); 


insert into periodo values(1, "PRIMER_PERIODO", 2022-02-01, 2022-04-15);
insert into periodo values(2, "PRIMER_PERIODO", 2022-04-18, 2022-06-17);
insert into periodo values(3, "PRIMER_PERIODO", 2022-07-11, 2022-09-16);
insert into periodo values(4, "PRIMER_PERIODO", 2022-09-19, 2022-11-18);
